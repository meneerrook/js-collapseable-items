const _ci={options:{amount:5,amountFromDOM:!1,amountAttribute:"data-amount",expandedOnLoad:!1,expandedOnLoadFromDOM:!1,expandedOnLoadAttribute:"data-expanded",group:{selector:".group",expandedClass:"expanded"},list:{selector:".list"},item:{selector:".item"},toggler:{selector:".toggler",create:!1,attributes:{href:"#","data-more":"Show more","data-less":"Show less",class:"toggle-items"}}},extend:(t,e)=>{for(prop in e)"object"==typeof e[prop]?_ci.extend(t[prop],e[prop]):t[prop]=e[prop];return t},set:()=>{let t=document.querySelectorAll(_ci.options.group.selector);for(let e=0;e<t.length;e++){if("true"==t[e].getAttribute("data-ignore-collapseable"))continue;let o,i=t[e].querySelector(_ci.options.list.selector),r=i.querySelectorAll(_ci.options.item.selector),s=_ci.options.amount;_ci.options.amountFromDOM&&(s=Number(t[e].getAttribute(_ci.options.amountAttribute))),o=_ci.options.expandedOnLoadFromDOM?"true"==t[e].getAttribute(_ci.options.expandedOnLoadAttribute):_ci.options.expandedOnLoad,_ci.provideToggler(t[e],i,r,s),t[e].classList.toggle(_ci.options.group.expandedClass,o);let n=_ci.calcHeight(r,s,o);i.style.height=`${n}px`}},provideToggler:(t,e,o,i)=>{if(i>=o.length)return!1;let r,s=_ci;if(s.options.toggler.create){let t=s.options.toggler.attributes;for(att in r=document.createElement("a"),t)r.setAttribute(att,t[att]);e.parentNode.insertBefore(r,e.nextSibling)}else r=t.querySelector(s.options.toggler.selector);r.addEventListener("click",r=>_ci.togglerEvent(r,t,e,o,i))},togglerEvent:(t,e,o,i,r)=>{t.preventDefault();let s=!0;e.classList.contains(_ci.options.group.expandedClass)&&(s=!1),e.classList.toggle(_ci.options.group.expandedClass,s);let n=_ci.calcHeight(i,r,s);o.style.height=`${n}px`},calcHeight:(t,e,o)=>{let i=0,r=o?t.length:e;for(let e=0;e<r&&t[e];e++)i+=t[e].offsetHeight;return i}};class CollapseableItems{constructor(t){this.options=_ci.options,arguments[0]&&"object"==typeof arguments[0]&&(this.options=_ci.extend(this.options,arguments[0]))}init(){_ci.set(this.options)}}